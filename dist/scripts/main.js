var bigImage=document.getElementsByClassName("bigImage")[0],change=function(){for(var e=function(){return Math.floor(25*Math.random())},t=e();document.body.clientWidth>440&&0==t;)t=e();var n="./images/bg"+t+".jpg";bigImage.style.backgroundImage="url("+n+")";var a=[];a[0]={title:"the shadow 阴影",brief:"此去一别，便是经年; A touching portrayal of a maiden whose beloved is sailing off to war. She is tracing his silhouette onto the wall to have something with which to remember him until he returns. <拉斐尔前派>的作品给人一种温文尔雅,一丝不苟的感觉;只要在他们作品前站一会儿,就仿佛能体会画中的诗意...,好吧,我承认我只是喜欢画中那些扭扭捏捏的妹子..."};var s=document.getElementsByClassName("nav")[0],i=document.getElementsByClassName("desc")[0],o=i.getElementsByClassName("title")[0],l=i.getElementsByClassName("brief")[0];void 0!=a[t]?"string"==typeof o.innerText?(o.innerText=a[t].title||"",l.innerText=a[t].brief||""):"string"==typeof o.textContent&&(o.textContent=a[t].title||"",l.textContent=a[t].brief||""):(i.style.display="none",s.style.display="none")};change(),bigImage.addEventListener("click",function(){change()});var isIE=function(){return!!(window.ActiveXObject||"ActiveXObject"in window)};!function(){var e=document.getElementById("wrap"),t=[].slice.call(e.querySelectorAll(".title")),n=!0;e.addEventListener("click",function(e){e.stopPropagation()}),t.forEach(function(t){t.addEventListener("click",function(t){t.stopPropagation(),n?(e.className="opposite",n=!1,isIE()&&setTimeout(function(){contentB.style.backfaceVisibility="visible"},490)):(e.className="front",n=!0,isIE()&&setTimeout(function(){contentB.style.backfaceVisibility="hidden"},490))})})}(),function(){var e=document.querySelector(".wel"),t=document.querySelector(".wel-desc"),n=[{lang:"Salut",desc:"法语"},{lang:"Bangawoyo",desc:"韩语"},{lang:"Moshimoshi",desc:"日语"},{lang:"Hoi",desc:"荷兰语"},{lang:"Yasou",desc:"希腊语"},{lang:"Salaam",desc:"阿拉伯语"},{lang:"Hej",desc:"瑞典语"},{lang:"Hi",desc:"英语"},{lang:"Witaj",desc:"波兰语"},{lang:"Szia",desc:"匈牙利语"},{lang:"Moyo",desc:"希鲁巴语"},{lang:"Mike",desc:"赫必语"},{lang:"Kaixo",desc:"巴斯克语"}],a=Math.floor(Math.random()*n.length);e.innerHTML=n[a].lang+", 朋友",t.innerHTML="现在你懂得怎样用"+n[a].desc+"打招呼了!"}();var nav=document.getElementsByClassName("nav")[0],bigImage=document.getElementsByClassName("bigImage")[0],desc=document.getElementsByClassName("desc")[0],up=function(){if(nav.className.indexOf("displayed")<=-1){nav.className+=" displayed",bigImage.className+=" displayed",desc.className+=" displayed";var e=document.querySelector(".bigImage.displayed"),t=desc.offsetHeight;e.style.bottom=t+"px";var n=document.querySelector(".nav.displayed");n.style.bottom=15+t+"px"}},down=function(){var e=document.querySelector(".bigImage.displayed");e.style.bottom="0",nav.className=nav.className.replace(" displayed",""),bigImage.className=bigImage.className.replace(" displayed",""),desc.className=desc.className.replace(" displayed","");var t=document.querySelector(".nav");t.style.bottom="15px"},toggleHistoryThumbnails=function(e){var t,n,a,s=!1,i=!1,o=!1,l=[38,40,32];if("mousewheel"===e.type||"DOMMouseScroll"===e.type)t=e.wheelDelta,n=e.detail,s=!0;else if("keydown"===e.type){if(a=e.which,l.indexOf(a)<=-1)return;i=!0}else"touchend"===e.type&&(o=!0);if(!((s&&0>t||n>0||i&&38===a)&&nav.className.indexOf("displayed")>-1||(s&&t>0||0>n||i&&40===a)&&nav.className.indexOf("displayed")<=-1)){if(nav.className.indexOf("displayed")<=-1)return void up();down()}};document.addEventListener("mousewheel",this.toggleHistoryThumbnails),document.addEventListener("DOMMouseScroll",this.toggleHistoryThumbnails),document.addEventListener("keydown",this.toggleHistoryThumbnails),nav.addEventListener("click",this.toggleHistoryThumbnails),function(){var e,t,n;document.addEventListener("touchstart",function(t){var a=t.touches[0];e=a.pageY,n=!1}),document.addEventListener("touchmove",function(e){var n=e.touches[0];t=n.pageY}),document.addEventListener("touchend",function(a){n=!0,t>e?down():e>t&&up()}),document.addEventListener("touchcancel",function(n){t>e?down():e>t&&up()}),nav.addEventListener("touchend",function(e){return e.preventDefault(),nav.className.indexOf("displayed")<=-1?void up():void down()}),nav.addEventListener("touchcancel",function(e){return e.preventDefault(),n?void 0:nav.className.indexOf("displayed")<=-1?void up():void down()})}();